Boothãƒ©ã‚¤ãƒ–ãƒ©ãƒªFINALç‰ˆï¼ˆãƒ‡ãƒãƒƒã‚°ï¼‹åé›†ï¼‹ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆä¸€ä½“å‹ï¼‰ï¼š

javascript:(function(){var debug=confirm('ãƒ‡ãƒãƒƒã‚°ãƒ¢ãƒ¼ãƒ‰ã§å®Ÿè¡Œã—ã¾ã™ã‹ï¼Ÿ\nOK=ãƒ‡ãƒãƒƒã‚°è¡¨ç¤º\nã‚­ãƒ£ãƒ³ã‚»ãƒ«=é€šå¸¸åé›†');if(debug){console.log('=== Booth Debug ===');var links1=document.querySelectorAll('a[href*="/items/"]');console.log('å•†å“ãƒªãƒ³ã‚¯(/items/):',links1.length);var links2=document.querySelectorAll('a[href*="booth.pm/ja/items/"]');console.log('å•†å“ãƒªãƒ³ã‚¯(full):',links2.length);var divs=document.querySelectorAll('div');console.log('å…¨divæ•°:',divs.length);var imgs=document.querySelectorAll('img');console.log('å…¨imgæ•°:',imgs.length);var boothImgs=document.querySelectorAll('img[src*="booth"], img[src*="pximg"]');console.log('boothç³»imgæ•°:',boothImgs.length);console.log('URL:',location.href);if(links1.length>0){console.log('æœ€åˆã®ãƒªãƒ³ã‚¯:',links1[0]);console.log('ãƒ†ã‚­ã‚¹ãƒˆ:',links1[0].textContent);console.log('è¦ªè¦ç´ :',links1[0].parentElement)}console.log('ãƒšãƒ¼ã‚¸HTML(æœ€åˆã®1000æ–‡å­—):',document.body.innerHTML.substring(0,1000));alert('ãƒ‡ãƒãƒƒã‚°æƒ…å ±ã‚’ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«å‡ºåŠ›ã—ã¾ã—ãŸã€‚F12ã‚’é–‹ã„ã¦ç¢ºèªã—ã¦ãã ã•ã„ã€‚');return}var STORAGE_KEY='boothLibraryData';var stored=localStorage.getItem(STORAGE_KEY);var allData=stored?JSON.parse(stored):[];var items=[];var links=document.querySelectorAll('a');var itemUrls=[];for(var i=0;i<links.length;i++){if(links[i].href&&(links[i].href.includes('/items/')||links[i].href.includes('booth.pm/ja/items/'))){itemUrls.push(links[i])}}console.log('ç™ºè¦‹ã—ãŸå•†å“ãƒªãƒ³ã‚¯æ•°:',itemUrls.length);for(var i=0;i<itemUrls.length;i++){try{var link=itemUrls[i];var url=link.href;var isDuplicate=false;for(var d=0;d<allData.length;d++){if(allData[d].boothUrl===url){isDuplicate=true;break}}if(isDuplicate)continue;var title='';var container=link.closest('.flex.gap-8')||link.closest('div');if(container){var titleElements=container.querySelectorAll('a[href*="/items/"]');for(var t=0;t<titleElements.length;t++){var titleText=titleElements[t].textContent.trim();if(titleText&&titleText.length>2&&!titleText.includes('http')){title=titleText;break}}if(!title){var allTextNodes=container.querySelectorAll('*');for(var n=0;n<allTextNodes.length;n++){var nodeText=allTextNodes[n].textContent.trim();if(nodeText&&nodeText.length>5&&!nodeText.includes('http')&&!nodeText.includes('.')&&!nodeText.includes('/')&&!nodeText.includes('@')){title=nodeText;break}}}if(!title){var containerText=container.textContent.replace(/\s+/g,' ').trim();var lines=containerText.split(' ');for(var l=0;l<lines.length;l++){if(lines[l].length>3&&!lines[l].includes('.')&&!lines[l].includes('/')&&!lines[l].includes('@')){title=lines[l];break}}}}if(!title)title='å•†å“'+(i+1);var container=link.closest('.mb-16.bg-white')||link.closest('.mb-16')||link.closest('div')||link.closest('li')||link.closest('article')||link.parentElement;var thumbnail='';if(container){var imgs=container.querySelectorAll('img');for(var j=0;j<imgs.length;j++){if(imgs[j].src&&(imgs[j].src.includes('pximg')||imgs[j].src.includes('booth'))){thumbnail=imgs[j].src;break}}}var author='';var shopUrl='';if(container){var shopLinks=container.querySelectorAll('a');for(var k=0;k<shopLinks.length;k++){if(shopLinks[k].href&&shopLinks[k].href.includes('.booth.pm/')&&shopLinks[k].href!==url){shopUrl=shopLinks[k].href;author=shopLinks[k].textContent.trim();break}}}var zipFiles=[];if(container){var html=container.innerHTML||'';var textContent=container.textContent||'';console.log('ZIPãƒ•ã‚¡ã‚¤ãƒ«æ¤œç´¢:',title);console.log('HTML(æœ€åˆã®200æ–‡å­—):',html.substring(0,200));console.log('ãƒ†ã‚­ã‚¹ãƒˆ:',textContent);var zipMatches1=html.match(/[\w\-_.()ã€ã€‘\[\]ï¼-ï¼™ï¼¡-ï¼ºï½-ï½š\u3040-\u309F\u30A0-\u30FF\u4E00-\u9FAF]+\.(zip|unitypackage|rar|7z)/gi)||[];var zipMatches2=textContent.match(/[\w\-_.()ã€ã€‘\[\]ï¼-ï¼™ï¼¡-ï¼ºï½-ï½š\u3040-\u309F\u30A0-\u30FF\u4E00-\u9FAF]+\.(zip|unitypackage|rar|7z)/gi)||[];console.log('HTMLæ¤œç´¢çµæœ:',zipMatches1);console.log('ãƒ†ã‚­ã‚¹ãƒˆæ¤œç´¢çµæœ:',zipMatches2);var allZips=zipMatches1.concat(zipMatches2);for(var z=0;z<allZips.length;z++){var zipName=allZips[z].replace(/&amp;/g,'&').replace(/&lt;/g,'<').replace(/&gt;/g,'>');if(zipFiles.indexOf(zipName)===-1&&zipName.toLowerCase().indexOf('icon')===-1&&zipName.toLowerCase().indexOf('thumb')===-1&&zipName.toLowerCase().indexOf('resized')===-1){zipFiles.push(zipName)}}console.log('æœ€çµ‚ZIPãƒ•ã‚¡ã‚¤ãƒ«ãƒªã‚¹ãƒˆ:',zipFiles)}items.push({title:title,boothUrl:url,thumbnailUrl:thumbnail,author:author,shopUrl:shopUrl,zipFiles:zipFiles,downloadHints:zipFiles,extractedAt:new Date().toISOString(),page:parseInt(new URL(window.location.href).searchParams.get('page')||'1')});console.log('æŠ½å‡º:',title,'ZIP:',zipFiles.length)}catch(e){console.error('ã‚¨ãƒ©ãƒ¼:',e)}}allData=allData.concat(items);localStorage.setItem(STORAGE_KEY,JSON.stringify(allData));var hasNext=document.querySelector('a[rel="next"]')||document.querySelector('a[href*="page="]');var nextPageNum=parseInt(new URL(window.location.href).searchParams.get('page')||'1')+1;if(!hasNext){var nextLinks=document.querySelectorAll('a');for(var n=0;n<nextLinks.length;n++){if(nextLinks[n].href&&nextLinks[n].href.includes('page='+nextPageNum)){hasNext=nextLinks[n];break}}}var totalZips=0;for(var t=0;t<allData.length;t++){if(allData[t].zipFiles)totalZips+=allData[t].zipFiles.length}var statusDiv=document.getElementById('boothStatus')||document.createElement('div');statusDiv.id='boothStatus';statusDiv.style.cssText='position:fixed;top:20px;right:20px;z-index:99999;background:#1e40af;color:white;padding:15px 20px;border-radius:8px;font-family:Arial,sans-serif;box-shadow:0 4px 12px rgba(0,0,0,0.3);max-width:300px;';statusDiv.innerHTML='<div style="font-weight:bold;margin-bottom:5px;">ğŸ“š Boothåé›†ä¸­</div><div>ã“ã®ãƒšãƒ¼ã‚¸: '+items.length+'ä»¶</div><div>åˆè¨ˆ: '+allData.length+'ä»¶</div><div>ZIPãƒ•ã‚¡ã‚¤ãƒ«: '+totalZips+'ä»¶</div>';if(!document.getElementById('boothStatus')){document.body.appendChild(statusDiv)}console.log('æ¬¡ãƒšãƒ¼ã‚¸åˆ¤å®š: hasNext=',hasNext);if(hasNext){statusDiv.innerHTML+='<div style="margin-top:10px;color:#fbbf24;"><strong>æ¬¡ã®ãƒšãƒ¼ã‚¸ã«ç§»å‹•ã—ã¦ãƒ–ãƒƒã‚¯ãƒãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã‚’å†å®Ÿè¡Œã—ã¦ãã ã•ã„</strong></div>';setTimeout(function(){statusDiv.remove()},10000)}statusDiv.innerHTML+='<div style="margin-top:10px;"><strong>ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã¯ã„ã¤ã§ã‚‚å¯èƒ½</strong></div>';var exportBtn=document.createElement('button');exportBtn.textContent='ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ';exportBtn.style.cssText='background:#059669;color:white;border:none;padding:8px 16px;border-radius:4px;cursor:pointer;font-weight:bold;margin-top:10px;';exportBtn.onclick=function(){var exportData={exportedAt:new Date().toISOString(),totalItems:allData.length,totalZipFiles:totalZips,source:'booth-library-final',data:allData};var json=JSON.stringify(exportData,null,2);var blob=new Blob([json],{type:'application/json'});var url=(window.URL||window.webkitURL).createObjectURL(blob);var a=document.createElement('a');a.href=url;a.download='booth_library_'+new Date().toISOString().split('T')[0]+'.json';document.body.appendChild(a);a.click();document.body.removeChild(a);(window.URL||window.webkitURL).revokeObjectURL(url);localStorage.removeItem(STORAGE_KEY);alert('ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆå®Œäº†ï¼'+allData.length+'ä»¶');statusDiv.remove()};statusDiv.appendChild(exportBtn)})();