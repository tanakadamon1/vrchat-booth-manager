# VRChat Booth商品管理ツール

VRChat向けBooth商品を効率的に管理するためのElectronアプリケーションです。  
UnityPackageファイルの自動登録、Booth URL検索、自動アーカイブなどの便利機能を搭載しています。

## 🚀 主要機能

### 📦 商品管理
- **ドラッグ&ドロップ登録**: UnityPackageファイルを直接ドラッグするだけで登録
- **自動Booth検索**: ファイル名から自動的にBooth商品を検索・関連付け
- **自動サムネイル取得**: Booth URLから商品サムネイルを自動取得
- **学習機能**: 手動で関連付けた情報を学習し、次回から自動適用

### 🗂️ ファイル整理
- **自動アーカイブ**: 登録時にファイルを専用フォルダに自動移動
- **空フォルダ削除**: アーカイブ後の空フォルダを自動削除
- **統合商品管理**: フォルダ内の複数ファイルを1つの商品として管理
- **個別商品管理**: 複数ファイルを個別商品として一括登録

### 🔍 検索・フィルター
- **カテゴリフィルター**: 衣装、アクセサリー、アバター本体など
- **対応アバターフィルター**: 特定のアバターに絞り込み
- **タグフィルター**: カスタムタグで柔軟な分類
- **表示切替**: グリッド表示・リスト表示の切り替え

### 📋 Booth購入履歴連携
- **HTML解析**: Boothの購入履歴ページ（HTML）を読み込んで商品情報を抽出
- **複数ページ対応**: 複数の購入履歴ページを一度に処理
- **ファジーマッチング**: 類似ファイル名の自動マッチング

## 💻 使い方

### 初期設定

1. `VRChat-Booth-Manager.exe` を実行
2. 必要に応じて **⚙️設定** から自動アーカイブ機能をON/OFF

### 基本的な登録方法

#### 方法1: ドラッグ&ドロップ
1. UnityPackageファイル（単体またはフォルダ）をアプリにドラッグ
2. 自動的にBooth検索が実行され、該当する商品があれば自動設定
3. 商品名やカテゴリを確認・編集
4. **追加** ボタンで登録完了

#### 方法2: 手動追加
1. **商品を追加** ボタンをクリック
2. 商品情報を手動入力
3. **ファイルを選択** でUnityPackageファイルを指定
4. **追加** ボタンで登録完了

### フォルダ処理の動作

| ドロップ内容 | 動作 |
|-------------|------|
| 単一フォルダ | フォルダ内の全ファイルを**統合商品**として登録 |
| 複数の単体ファイル | 各ファイルを**個別商品**として登録 |
| フォルダ + 単体ファイル | フォルダは統合商品、単体ファイルは個別商品として処理 |

### Booth購入履歴の活用

1. Boothの購入履歴ページを **「Webページ、完全」形式でHTML保存**
2. **📋購入履歴読込** ボタンをクリック
3. 保存したHTMLファイルを選択（複数選択可能）
4. 商品情報が抽出され、ファイル名マッチングが実行される

### 学習機能

アプリは以下の情報を自動学習します：
- ファイル名とBooth URLの関連付け
- 手動で設定したサムネイル情報
- カテゴリ分類の傾向

一度学習した情報は次回から自動適用されます。

## ⚙️ 設定

### 自動アーカイブ機能
- **ON**: 商品登録時にファイルを `Archive` フォルダに自動移動
- **OFF**: 元の場所にファイルを残す（デフォルト）

自動アーカイブを有効にすると：
1. ファイルがアーカイブフォルダに移動
2. 元のフォルダが空になった場合は自動削除
3. データベースのファイルパスが自動更新

## 📁 ファイル構成

```
VRChat-Booth-Manager-Portable/
├── VRChat-Booth-Manager.exe    # メインアプリケーション
├── resources/                   # アプリケーションリソース
└── Archive/                     # 自動アーカイブ先（自動作成）

ユーザーデータ/
├── VRChat-Booth-Manager/
│   ├── data.json               # 商品データベース
│   └── Archive/                # アーカイブフォルダ
```

## 🔧 操作ガイド

### 商品の編集
1. 商品カードの **編集** ボタンをクリック
2. 必要な項目を修正
3. **保存** で変更を確定

### 複数ファイル商品
1. 商品登録時に複数のUnityPackageファイルを選択
2. Unity実行時にファイル選択メニューが表示
3. 用途に応じて適切なファイルを選択

### タグ管理
1. **タグ管理** からカスタムタグを作成
2. 商品編集時にタグを選択・追加
3. フィルターでタグ別に絞り込み可能

### データのバックアップ
- `data.json` ファイルを定期的にバックアップ
- **データエクスポート/インポート** 機能で完全バックアップ可能

## ⚡ パフォーマンス最適化

- 大量の商品でもスムーズな動作
- インクリメンタル検索によるリアルタイムフィルタ
- 効率的なファイル管理とメモリ使用量の最適化

## 🆕 最新機能

### バージョン0.2.0-Beta
- ✅ 自動アーカイブ機能の実装
- ✅ 空フォルダの自動削除
- ✅ 混在ドロップ対応（フォルダ+単体ファイル）
- ✅ Booth購入履歴HTML解析
- ✅ 学習機能とファジーマッチング
- ✅ 自動サムネイル取得
- ✅ デバッグログの本番用クリーンアップ

## ❓ よくある質問

**Q: ファイルが見つからないエラーが出る**
A: Unity Hubがインストールされているか確認してください。また、ファイルパスに特殊文字が含まれていないか確認してください。

**Q: Booth検索が上手くいかない**
A: ファイル名が商品名と異なる場合があります。手動でBooth URLを設定すると学習機能により次回から自動適用されます。

**Q: 自動アーカイブを後から変更したい**
A: 設定メニューからいつでもON/OFFを切り替え可能です。既存ファイルには影響しません。

## 🛠️ 技術仕様

- **プラットフォーム**: Windows 10/11
- **フレームワーク**: Electron
- **データ形式**: JSON
- **対応ファイル**: .unitypackage
- **必要環境**: Unity Hub（推奨）

## 📄 ライセンス

MIT License - 自由に使用・改変・配布可能です。

---

**開発者**: Claude AI Assistant  
**最終更新**: 2025年8月